(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232],{3646:function(e,r,a){"use strict";a.d(r,{Z:function(){return o}});var t=a(7294);a(2092),a(2029);var s=a(8146);a(6454),a(8833);var i=void 0!==a.g&&a.g.navigator&&"ReactNative"===a.g.navigator.product;"undefined"!=typeof document||i?t.useLayoutEffect:t.useEffect,new WeakMap;var n=a(861),l=a(5893);let c=["onKeyDown"],d=t.forwardRef((e,r)=>{var a;let{onKeyDown:t}=e,i=function(e,r){if(null==e)return{};var a,t,s={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],r.indexOf(a)>=0||(s[a]=e[a]);return s}(e,c),[d]=(0,n.FT)(Object.assign({tagName:"a"},i)),o=(0,s.Z)(e=>{d.onKeyDown(e),null==t||t(e)});return(a=i.href)&&"#"!==a.trim()&&"button"!==i.role?(0,l.jsx)("a",Object.assign({ref:r},i,{onKeyDown:t})):(0,l.jsx)("a",Object.assign({ref:r},i,d,{onKeyDown:o}))});d.displayName="Anchor";var o=d},861:function(e,r,a){"use strict";a.d(r,{FT:function(){return n}});var t=a(7294),s=a(5893);let i=["as","disabled"];function n({tagName:e,disabled:r,href:a,target:t,rel:s,role:i,onClick:n,tabIndex:l=0,type:c}){e||(e=null!=a||null!=t||null!=s?"a":"button");let d={tagName:e};if("button"===e)return[{type:c||"button",disabled:r},d];let o=t=>{var s;if(!r&&("a"!==e||(s=a)&&"#"!==s.trim())||t.preventDefault(),r){t.stopPropagation();return}null==n||n(t)},u=e=>{" "===e.key&&(e.preventDefault(),o(e))};return"a"===e&&(a||(a="#"),r&&(a=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:r?void 0:l,href:a,target:"a"===e?t:void 0,"aria-disabled":r||void 0,rel:"a"===e?s:void 0,onClick:o,onKeyDown:u},d]}let l=t.forwardRef((e,r)=>{let{as:a,disabled:t}=e,l=function(e,r){if(null==e)return{};var a,t,s={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],r.indexOf(a)>=0||(s[a]=e[a]);return s}(e,i),[c,{tagName:d}]=n(Object.assign({tagName:a,disabled:t},l));return(0,s.jsx)(d,Object.assign({},l,c,{ref:r}))});l.displayName="Button",r.ZP=l},4102:function(e,r,a){"use strict";a.d(r,{O:function(){return o}});var t=a(5893),s=a(1664),i=a.n(s),n=a(7294);let l=e=>decodeURI(e).replaceAll("_"," ");var c=a(2310);let d={catalog:"Каталог",search:"Поиск",cart:"Корзина",delivery:"Доставка",payment:"Оплата",about:"О нас",stock:"Акции",blog:"Блог",faq:"Задать вопрос",galery:"Галерея",garanty:"Гарантия",viewed:"Раннее вы смотрели"},o=e=>{let{replace:r}=e,[a,s]=(0,n.useState)([[],void 0]),[o,u]=a;return(0,n.useEffect)(()=>{let e="/",a=decodeURI(window.location.pathname).split("/").slice(1).map(a=>{let t=e+a+"/";e=t;let s=!!(r&&void 0!==r[a]),i=void 0!==d[a],n=s?r[a]:i?d[a]:l(a);return{href:t,name:n}}),t=a.pop();s([a,t])},[r]),(0,t.jsx)(c.W,{children:(0,t.jsx)("nav",{"aria-label":"breadcrumb",children:(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(i(),{href:"/",children:"Главная"})}),o.map(e=>(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(i(),{href:e.href,children:e.name})},e.href)),u&&(0,t.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:u.name})]})})})}},152:function(e,r,a){"use strict";a.d(r,{Z:function(){return p}});var t=a(5893),s=a(1664),i=a.n(s),n=a(7294),l=a(2411),c=a(9794),d=a(5838),o=a(458),u=a(5168),h=a(5131),f=a(9283),m=a.n(f),v=a(6394);let p=e=>{let{product:r,isNew:a,isHit:s,description:f}=e,p=(0,l._)("cart"),j=p&&!!p[r.id],[x,g]=(0,n.useState)(()=>{var e;let a=d.Y.get("cart");if(!a)return 1;let t=null===(e=a[r.id])||void 0===e?void 0:e.count;return void 0!==t?t:1}),b=(0,n.useMemo)(()=>{let e=r.props;return e?Object.keys(e).slice(0,7).reduce((r,a)=>({...r,[a]:e[a]}),{}):null},[r]),_=(0,n.useMemo)(()=>{let e=r.preview;if(!e&&r.images){let a=r.images[0];a&&(e=a)}return e?{imageURL:e.url,imageWidth:e.width,imageHeight:e.height}:null},[r]),N=(0,n.useMemo)(()=>{var e;let a="/";if((null===(e=r.subcategories)||void 0===e?void 0:e.length)&&r.subcategories[0].category){let t=r.href,s=r.subcategories[0].category.href;a="/catalog/".concat(s,"/").concat(t)}return a},[r]),y=()=>{o.Z.add(r.id,{count:x,price:r.price})},k=()=>{o.Z.remove(r.id),g(1)};return(0,t.jsxs)("article",{className:(0,c.o)([m().card,f?m().d_wrapper:void 0]),children:[f&&b&&(0,t.jsx)("div",{className:(0,c.o)([m().description]),children:(0,t.jsx)("ul",{children:Object.keys(b).filter(e=>b[e].length<=30).map(e=>(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:e}),(0,t.jsx)("span",{children:b[e]})]},e))})}),(0,t.jsxs)(i(),{href:N,className:m().stickers,children:[a&&(0,t.jsx)("span",{className:m().sticker,children:"Новинка"}),s&&(0,t.jsx)("span",{className:(0,c.o)([m().sticker,m().sticker_orange]),children:"ХИТ ПРОДАЖ"}),r.isGift&&(0,t.jsx)("span",{className:(0,c.o)([m().sticker,m().sticker_red]),children:"+ Подарок"})]}),_&&(0,t.jsx)(i(),{href:N,className:m().header,children:(0,t.jsx)(v.E,{width:_.imageWidth,height:_.imageHeight,src:_.imageURL,alt:r.name,placeholder:"empty"})}),(0,t.jsxs)("div",{className:m().body,children:[(0,t.jsx)("div",{className:"d-flex justify-content-between",children:(0,t.jsx)(i(),{href:N,className:m().title,children:r.name})}),(0,t.jsxs)("strong",{children:[r.price," руб."]}),(0,t.jsx)("div",{className:"d-flex justify-content-between mt-3 align-items-center",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{href:"/cart",children:["В корзине",x>1&&(0,t.jsxs)("b",{children:[" (",x," шт.)"]})]}),(0,t.jsx)(u.z,{sizeMode:"xs",variant:"primary",onClick:k,children:"Убрать"})]}):(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(h.P,{value:x,setValue:g}),(0,t.jsx)(u.z,{sizeMode:"xs",variant:"primary",onClick:y,children:"В корзину"})]})})]})]})}},5131:function(e,r,a){"use strict";a.d(r,{P:function(){return d}});var t=a(5893),s=a(7294),i=a(5168),n=a(48),l=a(6),c=a.n(l);let d=e=>{let{value:r,setValue:a}=e,[l,d]=(0,s.useState)(r.toString()),o=e=>{let t=e.target.value,s=Number(t);return Number.isNaN(s)?d(r.toString()):s<1?(d("1"),a(1)):s>20?(d("20"),a(20)):void a(s)},u=e=>{d(e.target.value)},h=()=>{r<20&&a(e=>e+1)},f=()=>{r>1&&a(e=>e-1)};return(0,s.useEffect)(()=>{d(r.toString())},[r]),(0,t.jsxs)("div",{className:c().wrapper,children:[(0,t.jsx)(i.z,{sizeMode:"sm",variant:"orange",onClick:f,children:(0,t.jsx)("i",{className:"fa fa-minus","aria-hidden":"true"})}),(0,t.jsx)(n.I,{onBlur:o,value:l,onChange:u,type:"text"}),(0,t.jsx)(i.z,{sizeMode:"sm",variant:"orange",onClick:h,children:(0,t.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})})]})}},6394:function(e,r,a){"use strict";a.d(r,{E:function(){return n}});var t=a(5893),s=a(5675),i=a.n(s);let n=e=>{let{alt:r,...a}=e;return(0,t.jsx)(i(),{alt:r,placeholder:"empty",...a})}},326:function(e,r,a){"use strict";a.d(r,{t:function(){return _}});var t=a(5893),s=a(1664),i=a.n(s),n=a(1163),l=a(7294),c=a(4184),d=a.n(c),o=a(6792),u=a(3646);let h=l.forwardRef(({active:e,disabled:r,className:a,style:s,activeLabel:i,children:n,...l},c)=>{let o=e||r?"span":u.Z;return(0,t.jsx)("li",{ref:c,style:s,className:d()(a,"page-item",{active:e,disabled:r}),children:(0,t.jsxs)(o,{className:"page-link",...l,children:[n,e&&i&&(0,t.jsx)("span",{className:"visually-hidden",children:i})]})})});function f(e,r,a=e){let s=l.forwardRef(({children:e,...s},i)=>(0,t.jsxs)(h,{...s,ref:i,children:[(0,t.jsx)("span",{"aria-hidden":"true",children:e||r}),(0,t.jsx)("span",{className:"visually-hidden",children:a})]}));return s.displayName=e,s}h.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},h.displayName="PageItem";let m=f("First","\xab"),v=f("Prev","‹","Previous"),p=f("Ellipsis","…","More"),j=f("Next","›"),x=f("Last","\xbb"),g=l.forwardRef(({bsPrefix:e,className:r,size:a,...s},i)=>{let n=(0,o.vE)(e,"pagination");return(0,t.jsx)("ul",{ref:i,...s,className:d()(r,n,a&&`${n}-${a}`)})});g.displayName="Pagination";var b=Object.assign(g,{First:m,Prev:v,Ellipsis:p,Item:h,Next:j,Last:x});let _=e=>{let{page:r,total:a}=e,s=(0,n.useRouter)(),c=(0,l.useMemo)(()=>Object.keys(s.query).map(e=>"".concat(e,"=").concat(s.query[e])).join("&"),[s.query]),d=(0,l.useCallback)(e=>{let r=new URLSearchParams(c);1!==e?r.set("page",e.toString()):r.delete("page");let a=decodeURI(r.toString());return(a.length?"?":"")+a},[c]),o=r<=1,u=r>=a,h=e=>r=>{r.preventDefault(),s.push(d(e))};return a<2?null:(0,t.jsxs)(b,{children:[(0,t.jsxs)(b.First,{disabled:o,onClick:h(1),as:i(),href:d(1),children:[(0,t.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"}),(0,t.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"})]}),(0,t.jsx)(b.Prev,{disabled:o,onClick:h(r-1),as:i(),href:d(r-1),children:(0,t.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"})}),Object.keys(Array.from(Array(a))).map((e,a)=>(0,t.jsx)(b.Item,{onClick:h(a+1),active:a+1===r,as:i(),href:d(a+1),children:a+1},a)),(0,t.jsx)(b.Next,{disabled:u,onClick:h(r+1),as:i(),href:d(r+1),children:(0,t.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"})}),(0,t.jsxs)(b.Last,{disabled:u,onClick:h(a),as:i(),href:d(a),children:[(0,t.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"}),(0,t.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"})]})]})}},458:function(e,r,a){"use strict";var t=a(5838);let s="cart";r.Z=new class{add(e,r){let a=t.Y.get(s);t.Y.set(s,{...a||{},[e]:r})}remove(e){let r=t.Y.get(s);r&&(delete r[e],t.Y.set(s,r))}}},9283:function(e){e.exports={card:"Card_card__oqWj1",d_wrapper:"Card_d_wrapper__dTLcm",description:"Card_description__W3Gvt",stickers:"Card_stickers__eJxMu",sticker:"Card_sticker__lSHUa",sticker_orange:"Card_sticker_orange__AGGqm",sticker_red:"Card_sticker_red__2_dEN",header:"Card_header__wDcIt",body:"Card_body__rSvQh",title:"Card_title___WBLo"}},6:function(e){e.exports={wrapper:"CountInput_wrapper__AZKJT"}}}]);