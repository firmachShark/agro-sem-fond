(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{3646:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var a=t(7294);t(2092),t(2029);var n=t(8146);t(6454),t(8833);var i=void 0!==t.g&&t.g.navigator&&"ReactNative"===t.g.navigator.product;"undefined"!=typeof document||i?a.useLayoutEffect:a.useEffect,new WeakMap;var s=t(861),l=t(5893);let c=["onKeyDown"],d=a.forwardRef((e,r)=>{var t;let{onKeyDown:a}=e,i=function(e,r){if(null==e)return{};var t,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,c),[d]=(0,s.FT)(Object.assign({tagName:"a"},i)),o=(0,n.Z)(e=>{d.onKeyDown(e),null==a||a(e)});return(t=i.href)&&"#"!==t.trim()&&"button"!==i.role?(0,l.jsx)("a",Object.assign({ref:r},i,{onKeyDown:a})):(0,l.jsx)("a",Object.assign({ref:r},i,d,{onKeyDown:o}))});d.displayName="Anchor";var o=d},861:function(e,r,t){"use strict";t.d(r,{FT:function(){return s}});var a=t(7294),n=t(5893);let i=["as","disabled"];function s({tagName:e,disabled:r,href:t,target:a,rel:n,role:i,onClick:s,tabIndex:l=0,type:c}){e||(e=null!=t||null!=a||null!=n?"a":"button");let d={tagName:e};if("button"===e)return[{type:c||"button",disabled:r},d];let o=a=>{var n;if(!r&&("a"!==e||(n=t)&&"#"!==n.trim())||a.preventDefault(),r){a.stopPropagation();return}null==s||s(a)},u=e=>{" "===e.key&&(e.preventDefault(),o(e))};return"a"===e&&(t||(t="#"),r&&(t=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:r?void 0:l,href:t,target:"a"===e?a:void 0,"aria-disabled":r||void 0,rel:"a"===e?n:void 0,onClick:o,onKeyDown:u},d]}let l=a.forwardRef((e,r)=>{let{as:t,disabled:a}=e,l=function(e,r){if(null==e)return{};var t,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,i),[c,{tagName:d}]=s(Object.assign({tagName:t,disabled:a},l));return(0,n.jsx)(d,Object.assign({},l,c,{ref:r}))});l.displayName="Button",r.ZP=l},4102:function(e,r,t){"use strict";t.d(r,{O:function(){return o}});var a=t(5893),n=t(1664),i=t.n(n),s=t(7294);let l=e=>decodeURI(e).replaceAll("_"," ");var c=t(2310);let d={catalog:"Каталог",search:"Поиск",cart:"Корзина",delivery:"Доставка",payment:"Оплата",about:"О нас",stock:"Акции",blog:"Блог",faq:"Задать вопрос",galery:"Галерея",garanty:"Гарантия"},o=e=>{let{replace:r}=e,[t,n]=(0,s.useState)([[],void 0]),[o,u]=t;return(0,s.useEffect)(()=>{let e="/",t=decodeURI(window.location.pathname).split("/").slice(1).map(t=>{let a=e+t+"/";e=a;let n=!!(r&&void 0!==r[t]),i=void 0!==d[t],s=n?r[t]:i?d[t]:l(t);return{href:a,name:s}}),a=t.pop();n([t,a])},[r]),(0,a.jsx)(c.W,{children:(0,a.jsx)("nav",{"aria-label":"breadcrumb",children:(0,a.jsxs)("ol",{className:"breadcrumb",children:[(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)(i(),{href:"/",children:"Главная"})}),o.map(e=>(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)(i(),{href:e.href,children:e.name})},e.href)),u&&(0,a.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:u.name})]})})})}},152:function(e,r,t){"use strict";t.d(r,{Z:function(){return p}});var a=t(5893),n=t(1664),i=t.n(n),s=t(7294),l=t(2411),c=t(9794),d=t(5838),o=t(458),u=t(5168),f=t(5131),h=t(9283),m=t.n(h),v=t(6394);let p=e=>{let{product:r,isNew:t,description:n}=e,h=(0,l._)("cart"),p=h&&!!h[r.id],[g,x]=(0,s.useState)(()=>{var e;let t=d.Y.get("cart");if(!t)return 1;let a=null===(e=t[r.id])||void 0===e?void 0:e.count;return void 0!==a?a:1}),j=(0,s.useMemo)(()=>{let e=r.props;return e?Object.keys(e).slice(0,7).reduce((r,t)=>({...r,[t]:e[t]}),{}):null},[r]),b=(0,s.useMemo)(()=>{let e=r.preview;if(!e&&r.images){let t=r.images[0];t&&(e=t)}return e?{imageURL:e.url,imageWidth:e.width,imageHeight:e.height}:null},[r]),_=(0,s.useMemo)(()=>{var e;let t="/";if((null===(e=r.subcategories)||void 0===e?void 0:e.length)&&r.subcategories[0].category){let a=r.href,n=r.subcategories[0].category.href;t="/catalog/".concat(n,"/").concat(a)}return t},[r]),y=()=>{o.Z.add(r.id,{count:g,price:r.price})},N=()=>{o.Z.remove(r.id),x(1)};return(0,a.jsxs)("article",{className:(0,c.o)([m().card,n?m().d_wrapper:void 0]),children:[n&&j&&(0,a.jsx)("div",{className:(0,c.o)([m().description]),children:(0,a.jsx)("ul",{children:Object.keys(j).map(e=>(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:e}),(0,a.jsx)("span",{children:j[e]})]},e))})}),t&&(0,a.jsx)("span",{className:m().sticker,children:"Новинка"}),b&&(0,a.jsx)(i(),{href:_,className:m().header,children:(0,a.jsx)(v.E,{width:b.imageWidth,height:b.imageHeight,src:b.imageURL,alt:r.name,placeholder:"empty"})}),(0,a.jsxs)("div",{className:m().body,children:[(0,a.jsx)("div",{className:"d-flex justify-content-between",children:(0,a.jsx)(i(),{href:_,className:m().title,children:r.name})}),(0,a.jsxs)("strong",{children:[r.price," руб."]}),(0,a.jsx)("div",{className:"d-flex justify-content-between mt-3 align-items-center",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{href:"/cart",children:["В корзине",g>1&&(0,a.jsxs)("b",{children:[" (",g," шт.)"]})]}),(0,a.jsx)(u.z,{sizeMode:"xs",variant:"primary",onClick:N,children:"Убрать"})]}):(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(f.P,{value:g,setValue:x}),(0,a.jsx)(u.z,{sizeMode:"xs",variant:"primary",onClick:y,children:"В корзину"})]})})]})]})}},5131:function(e,r,t){"use strict";t.d(r,{P:function(){return d}});var a=t(5893),n=t(7294),i=t(5168),s=t(48),l=t(6),c=t.n(l);let d=e=>{let{value:r,setValue:t}=e,[l,d]=(0,n.useState)(r.toString()),o=e=>{let a=e.target.value,n=Number(a);return Number.isNaN(n)?d(r.toString()):n<1?(d("1"),t(1)):n>20?(d("20"),t(20)):void t(n)},u=e=>{d(e.target.value)},f=()=>{r<20&&t(e=>e+1)},h=()=>{r>1&&t(e=>e-1)};return(0,n.useEffect)(()=>{d(r.toString())},[r]),(0,a.jsxs)("div",{className:c().wrapper,children:[(0,a.jsx)(i.z,{sizeMode:"sm",variant:"orange",onClick:h,children:(0,a.jsx)("i",{className:"fa fa-minus","aria-hidden":"true"})}),(0,a.jsx)(s.I,{onBlur:o,value:l,onChange:u,type:"text"}),(0,a.jsx)(i.z,{sizeMode:"sm",variant:"orange",onClick:f,children:(0,a.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})})]})}},6394:function(e,r,t){"use strict";t.d(r,{E:function(){return s}});var a=t(5893),n=t(5675),i=t.n(n);let s=e=>{let{alt:r,...t}=e;return(0,a.jsx)(i(),{alt:r,placeholder:"empty",...t})}},2489:function(e,r,t){"use strict";t.d(r,{a:function(){return l}});var a=t(5893);t(7294);var n=t(9794),i=t(4898),s=t.n(i);let l=e=>{let{withoutOverlay:r}=e;return(0,a.jsx)("div",{className:(0,n.o)([s().loading,r?void 0:s().overlay]),children:(0,a.jsx)("i",{className:"fa fa-repeat","aria-hidden":"true"})})}},326:function(e,r,t){"use strict";t.d(r,{t:function(){return _}});var a=t(5893),n=t(1664),i=t.n(n),s=t(1163),l=t(7294),c=t(4184),d=t.n(c),o=t(6792),u=t(3646);let f=l.forwardRef(({active:e,disabled:r,className:t,style:n,activeLabel:i,children:s,...l},c)=>{let o=e||r?"span":u.Z;return(0,a.jsx)("li",{ref:c,style:n,className:d()(t,"page-item",{active:e,disabled:r}),children:(0,a.jsxs)(o,{className:"page-link",...l,children:[s,e&&i&&(0,a.jsx)("span",{className:"visually-hidden",children:i})]})})});function h(e,r,t=e){let n=l.forwardRef(({children:e,...n},i)=>(0,a.jsxs)(f,{...n,ref:i,children:[(0,a.jsx)("span",{"aria-hidden":"true",children:e||r}),(0,a.jsx)("span",{className:"visually-hidden",children:t})]}));return n.displayName=e,n}f.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},f.displayName="PageItem";let m=h("First","\xab"),v=h("Prev","‹","Previous"),p=h("Ellipsis","…","More"),g=h("Next","›"),x=h("Last","\xbb"),j=l.forwardRef(({bsPrefix:e,className:r,size:t,...n},i)=>{let s=(0,o.vE)(e,"pagination");return(0,a.jsx)("ul",{ref:i,...n,className:d()(r,s,t&&`${s}-${t}`)})});j.displayName="Pagination";var b=Object.assign(j,{First:m,Prev:v,Ellipsis:p,Item:f,Next:g,Last:x});let _=e=>{let{page:r,total:t}=e,n=(0,s.useRouter)(),c=(0,l.useMemo)(()=>Object.keys(n.query).map(e=>"".concat(e,"=").concat(n.query[e])).join("&"),[n.query]),d=(0,l.useCallback)(e=>{let r=new URLSearchParams(c);1!==e?r.set("page",e.toString()):r.delete("page");let t=decodeURI(r.toString());return(t.length?"?":"")+t},[c]),o=r<=1,u=r>=t,f=e=>r=>{r.preventDefault(),n.push(d(e))};return t<2?null:(0,a.jsxs)(b,{children:[(0,a.jsxs)(b.First,{disabled:o,onClick:f(1),as:i(),href:d(1),children:[(0,a.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"}),(0,a.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"})]}),(0,a.jsx)(b.Prev,{disabled:o,onClick:f(r-1),as:i(),href:d(r-1),children:(0,a.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"})}),Object.keys(Array.from(Array(t))).map((e,t)=>(0,a.jsx)(b.Item,{onClick:f(t+1),active:t+1===r,as:i(),href:d(t+1),children:t+1},t)),(0,a.jsx)(b.Next,{disabled:u,onClick:f(r+1),as:i(),href:d(r+1),children:(0,a.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"})}),(0,a.jsxs)(b.Last,{disabled:u,onClick:f(t),as:i(),href:d(t),children:[(0,a.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"}),(0,a.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"})]})]})}},1471:function(e,r,t){"use strict";t.d(r,{k:function(){return i}});var a=t(1163),n=t(7294);let i=e=>{let r=(0,a.useRouter)(),[t,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let t=r=>{r.includes(e)&&i(!0)},a=()=>i(!1);return r.events.on("routeChangeStart",t),r.events.on("routeChangeComplete",a),()=>{r.events.off("routeChangeStart",t),r.events.off("routeChangeComplete",a)}},[r,e]),t}},458:function(e,r,t){"use strict";var a=t(5838);let n="cart";r.Z=new class{add(e,r){let t=a.Y.get(n);a.Y.set(n,{...t||{},[e]:r})}remove(e){let r=a.Y.get(n);r&&(delete r[e],a.Y.set(n,r))}}},9283:function(e){e.exports={card:"Card_card__oqWj1",d_wrapper:"Card_d_wrapper__dTLcm",description:"Card_description__W3Gvt",sticker:"Card_sticker__lSHUa",header:"Card_header__wDcIt",body:"Card_body__rSvQh",title:"Card_title___WBLo"}},6:function(e){e.exports={wrapper:"CountInput_wrapper__AZKJT"}},4898:function(e){e.exports={loading:"Loader_loading___H9TE",show:"Loader_show__YFqMF",rotate:"Loader_rotate__x_v_I",overlay:"Loader_overlay__lKXgr"}}}]);